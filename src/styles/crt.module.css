.crtRoot {
  position: relative;
  width: 100%;
  min-height: 100vh;
  background: var(--crt-black);
  overflow: hidden;
}

.crtFrame {
  position: relative;
  width: 100%;
  min-height: 100vh;
  overflow: hidden;
}

.crtContent {
  position: relative;
  z-index: 10;
  text-shadow:
    0 0 var(--phosphor-glow) currentColor,
    0 0 var(--phosphor-glow-strong) currentColor;
}

.crtContent * {
  text-shadow: inherit;
}

.crtFilter {
  position: absolute;
  width: 0;
  height: 0;
  pointer-events: none;
}

.crtAfterglow {
  position: absolute;
  inset: 0;
  z-index: 12;
  pointer-events: none;
  background: rgba(5, 10, 5, 0.25);
  mix-blend-mode: multiply;
  opacity: var(--phosphor-afterglow);
}

.crtTracer {
  position: absolute;
  inset: 0;
  z-index: 13;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: var(--phosphor-tracer);
  backdrop-filter: blur(1px) brightness(1.05);
}

.crtBloom {
  position: absolute;
  inset: 0;
  z-index: 20;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.25;
  background: linear-gradient(180deg, rgba(0, 80, 255, 0.12), rgba(255, 40, 40, 0.12));
}

.crtMask {
  position: absolute;
  inset: 0;
  z-index: 30;
  pointer-events: none;
  mix-blend-mode: overlay;
  background: linear-gradient(90deg, #ff0000 0px, #ff0000 1px, #00ff00 1px, #00ff00 2px, #0000ff 2px, #0000ff 3px);
  background-size: 3px 100%;
  opacity: 0.15;
}

.crtScanlines {
  position: absolute;
  inset: 0;
  z-index: 40;
  pointer-events: none;
  background: linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.6) 50%);
  background-size: 100% 4px;
  opacity: 0.25;
}

.crtAberrationRed {
  position: absolute;
  inset: 0;
  z-index: 20;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.4;
  transform: translate(1.5px, 0);
  background: rgba(255, 0, 0, 0.03);
}

.crtAberrationBlue {
  position: absolute;
  inset: 0;
  z-index: 20;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.4;
  transform: translate(-1.5px, 0);
  background: rgba(0, 0, 255, 0.03);
}

.crtFlicker {
  position: absolute;
  inset: 0;
  z-index: 50;
  pointer-events: none;
  background: rgba(255, 255, 255, 0.03);
  animation: crt-flicker 0.15s infinite;
}

.crtGlare {
  position: absolute;
  inset: 0;
  z-index: 60;
  pointer-events: none;
  mix-blend-mode: soft-light;
  background:
    radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.12) 0%, transparent 25%),
    linear-gradient(135deg, rgba(255, 255, 255, 0.06) 0%, transparent 45%);
}

.crtNoise {
  position: absolute;
  inset: 0;
  z-index: 15;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E");
  filter: contrast(150%) brightness(100%);
  opacity: 0.08;
  mix-blend-mode: overlay;
  animation: noise-shift 0.2s infinite steps(4);
}

.phosphorWrapper {
  position: relative;
  display: inline-block;
}

.phosphorText {
  position: relative;
  text-shadow:
    0 0 var(--phosphor-glow) currentColor,
    0 0 var(--phosphor-glow-strong) currentColor;
}

.phosphorTrail {
  position: absolute;
  top: 0;
  left: 0;
  color: var(--phosphor-green);
  opacity: 0.6;
  filter: blur(0px);
  text-shadow:
    0 0 var(--phosphor-glow) currentColor,
    0 0 var(--phosphor-glow-strong) currentColor;
  animation: phosphor-persist var(--phosphor-persistence) ease-out forwards;
  pointer-events: none;
}

.crtPowerOff {
  position: absolute;
  inset: 0;
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
}

.crtPowerOff::after {
  content: '';
  width: 90%;
  height: 2px;
  background: rgba(255, 255, 255, 0.9);
  animation: collapse-horizontal 0.5s ease-in forwards;
}

@keyframes crt-flicker {
  0% {
    opacity: 0.02;
  }
  50% {
    opacity: 0.06;
  }
  100% {
    opacity: 0.02;
  }
}

@keyframes phosphor-persist {
  0% {
    opacity: 0.7;
    filter: blur(0px);
  }
  100% {
    opacity: 0;
    filter: blur(6px);
  }
}

@keyframes noise-shift {
  0% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(-5%, 5%);
  }
  50% {
    transform: translate(5%, -5%);
  }
  75% {
    transform: translate(-5%, -5%);
  }
  100% {
    transform: translate(0, 0);
  }
}

@keyframes collapse-horizontal {
  0% {
    transform: scaleX(1) scaleY(200);
    opacity: 1;
  }
  50% {
    transform: scaleX(1) scaleY(0.02);
    opacity: 1;
  }
  100% {
    transform: scaleX(0) scaleY(0.02);
    opacity: 0;
  }
}
